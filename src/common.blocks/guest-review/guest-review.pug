include ../../pug/modules/like-button/like-button.pug

mixin guest-review(photo, name, days, likes, checkedLike, rewiew)
    - let lastVisit = ''
    
    if days < 7
        if days === 1
            - lastVisit = days + ' день '
        else if (days >= 2 && days <= 4)
            - lastVisit = days + ' дня '
        else
            - lastVisit = days + ' дней '
    else
        - var weeks = parseInt(days / 7)

        if weeks === 1
            - lastVisit = 'Неделю '
        else
            - let weeks10 = weeks % 10
            - let weeks100 = weeks % 100

            if weeks10 === 1 && weeks100 !== 11
                - lastVisit = weeks + ' неделю '
            else if (weeks10 >= 2 && weeks10 <= 4) && !(weeks100 >= 12 && weeks100 <= 14)
                - lastVisit = weeks + ' недели '
            else
                - lastVisit = weeks + ' недель '

    - lastVisit = lastVisit + ' назад '


    .guest-review
        .guest-review__guest
            img(src=photo class='guest-review__photo' alt='photo')
            .guest-review__guest-details
                .guest-review__guest-name !{name}
                .guest-review__last-visit !{lastVisit}
        .guest-review__rewiew
            .guest-review__likes
                +likeButton(likes, checkedLike)
            .guest-review__rewiew-text !{rewiew}